{% if page.meta.comments %}
<h2 id="comments">{{ lang.t("meta.comments") }}</h2>
<p class="comments-intro">
  Feel free to leave a comment here to discuss this post wth others. You can ask questions, share your experience, or
  suggest improvements. If you have a question about a specific feature or issue, please consider using the <a
    href="https://discord.gg/KhAMKrd" target="_blank">ESPHome Discord</a>. Stick to English and follow ESPHome's <a
    href="https://github.com/esphome/esphome/blob/dev/CODE_OF_CONDUCT.md" target="_blank">code of conduct</a>. These
  comments exist on a <a
    href="https://github.com/esphome/developers.esphome.io/discussions/categories/blog-comments?discussions_q=%22{{ page.title }}%22%20in%3Atitle"
    target="_blank">discussion on GitHub</a>, so you can also comment there directly if you prefer.
</p>
<script src="https://giscus.app/client.js" data-repo="esphome/developers.esphome.io" data-repo-id="R_kgDOK2syTg"
  data-category="Blog Comments" data-category-id="DIC_kwDOK2syTs4CqKL3" data-mapping="specific"
  data-term="{{ page.title }}" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0"
  data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy"
  crossorigin="anonymous" async>
  </script>

<!-- Synchronize Giscus theme with palette -->
<script>
  var giscus = document.querySelector("script[src*=giscus]")

  // Set palette on initial load
  var palette = __md_get("__palette")
  if (palette && typeof palette.color === "object") {
    var theme = palette.color.scheme === "slate"
      ? "transparent_dark"
      : "light"

    // Instruct Giscus to set theme
    giscus.setAttribute("data-theme", theme)
  }

  // Register event handlers after documented loaded
  document.addEventListener("DOMContentLoaded", function () {
    var ref = document.querySelector("[data-md-component=palette]")
    ref.addEventListener("change", function () {
      var palette = __md_get("__palette")
      if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate"
          ? "transparent_dark"
          : "light"

        // Instruct Giscus to change theme
        var frame = document.querySelector(".giscus-frame")
        frame.contentWindow.postMessage(
          { giscus: { setConfig: { theme } } },
          "https://giscus.app"
        )
      }
    })
  })
</script>
{% endif %}
